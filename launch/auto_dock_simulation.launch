<!-- 
  Simulate a carlike robot with the auto_dock in stage:
  - stage
  - fetch_open_auto_dock
  - rviz view
 -->
<launch>

    <arg name="rviz" default="true" />

    <!--  ************** Global Parameters ***************  -->
    <param name="/use_sim_time" value="true"/>

    <!--  ************** Stage Simulator ***************  -->
	<node pkg="stage_ros" type="stageros" name="stageros" args="$(find fetch_open_auto_dock)/stage/auto_dock_carlike.world"/>

	<!--  **************** Visualisation ****************  -->
	<node name="rviz" pkg="rviz" type="rviz" args="-d $(find fetch_open_auto_dock)/rviz/dock.rviz" if="$(arg rviz)"/>

    <node name="auto_dock" pkg="fetch_open_auto_dock" type="auto_dock" output="screen" />
    <node name="dock_on_button" pkg="fetch_open_auto_dock" type="view_dock.py" />
    <!-- TODO: run testing scripts -->
</launch>
